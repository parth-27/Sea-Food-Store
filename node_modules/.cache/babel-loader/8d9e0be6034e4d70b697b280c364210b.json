{"ast":null,"code":"var _jsxFileName = \"/home/pal/Desktop/react-beginner/src/components/Inventory.js\";\nimport React from 'react';\nimport AddFishForm from './AddFishForm';\nimport PropTypes from 'prop-types';\nimport base from '../base';\n\nclass Inventory extends React.Component {\n  constructor() {\n    super();\n    this.renderInventory = this.renderInventory.bind(this);\n    this.handleChange = this.handleChange.bind(this); // this.renderLogin = this.renderLogin.bind(this);\n    // this.authenticate = this.authenticate.bind(this);\n    // this.authHandler = this.authHandler.bind(this);\n    // this.state = {\n    //     uid:null,\n    //     owner:null\n    // }\n  }\n\n  handleChange(e, key) {\n    const fish = this.props.fishes[key];\n    const updatedFish = { ...fish,\n      [e.target.name]: e.target.value\n    };\n    this.props.updateFish(key, updatedFish);\n  }\n\n  renderInventory(key) {\n    const fish = this.props.fishes[key];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"fish-edit\",\n      key: key,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      value: fish.name,\n      placeholder: \"Fish Name\",\n      onChange: e => this.handleChange(e, key),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"price\",\n      value: fish.price,\n      placeholder: \"Fish Price\",\n      onChange: e => this.handleChange(e, key),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"select\", {\n      type: \"text\",\n      name: \"status\",\n      value: fish.status,\n      placeholder: \"Fish Status\",\n      onChange: e => this.handleChange(e, key),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"available\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 21\n      }\n    }, \"Fresh!\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"unavailable\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }\n    }, \"Sold Out!\")), /*#__PURE__*/React.createElement(\"textarea\", {\n      type: \"text\",\n      name: \"desc\",\n      value: fish.desc,\n      placeholder: \"Fish Desc\",\n      onChange: e => this.handleChange(e, key),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"image\",\n      value: fish.image,\n      placeholder: \"Fish Image\",\n      onChange: e => this.handleChange(e, key),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.props.removeFish(key),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }\n    }, \"Remove Fish\"));\n  } // authenticate(provider){\n  //     console.log(`Trying to login with ${provider}`);\n  //     base.AuthWithOAuthPopup(provider,this.authHandler);\n  // }\n  // authHandler(err,authData){\n  //     console.log(authData);\n  // }\n  // renderLogin() {\n  //     return (\n  //         <nav className=\"login\">\n  //             <h2>Inventory</h2>\n  //             <p>Sign in to manage your store's inventory</p>\n  //             <button className=\"github\" onClick={() => this.authenticate('github')}>Log In with Github</button>\n  //             <button className=\"facebook\" onClick={() => this.authenticate('facebook')} >Log In with Facebook</button>\n  //             <button className=\"twitter\" onClick={() => this.authenticate('twitter')} >Log In with Twitter</button>\n  //         </nav>\n  //     )\n  // }\n\n\n  render() {\n    const logout = /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 24\n      }\n    }, \"Log Out!!\"); // check if they are not logged in at all\n\n    if (!this.state.uid) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 20\n        }\n      }, this.renderLogin());\n    } // check if they are the owner of the current store.\n\n\n    if (this.state.uid !== this.state.owner) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }\n      }, \"Sorry you are not the owner of the Store\"), logout);\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }\n    }, \"Inventory\"), logout, Object.keys(this.props.fishes).map(this.renderInventory), /*#__PURE__*/React.createElement(AddFishForm, {\n      addFish: this.props.addFish,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.props.loadSamples,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }, \"load Sample Fishes\"));\n  }\n\n}\n\nInventory.propTypes = {\n  fishes: PropTypes.object.isRequired,\n  updateFish: PropTypes.func.isRequired,\n  removeFish: PropTypes.func.isRequired,\n  addFish: PropTypes.func.isRequired,\n  loadSamples: PropTypes.func.isRequired\n};\nexport default Inventory;","map":{"version":3,"sources":["/home/pal/Desktop/react-beginner/src/components/Inventory.js"],"names":["React","AddFishForm","PropTypes","base","Inventory","Component","constructor","renderInventory","bind","handleChange","e","key","fish","props","fishes","updatedFish","target","name","value","updateFish","price","status","desc","image","removeFish","render","logout","state","uid","renderLogin","owner","Object","keys","map","addFish","loadSamples","propTypes","object","isRequired","func"],"mappings":"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","sourcesContent":["import React from 'react';\nimport AddFishForm from './AddFishForm';\nimport PropTypes from 'prop-types';\nimport base from '../base';\n\nclass Inventory extends React.Component {\n\n    constructor() {\n        super();\n        this.renderInventory = this.renderInventory.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        // this.renderLogin = this.renderLogin.bind(this);\n        // this.authenticate = this.authenticate.bind(this);\n        // this.authHandler = this.authHandler.bind(this);\n        // this.state = {\n        //     uid:null,\n        //     owner:null\n        // }\n    }\n\n    handleChange(e, key) {\n        const fish = this.props.fishes[key];\n\n        const updatedFish = {\n            ...fish\n            , [e.target.name]: e.target.value\n        };\n\n        this.props.updateFish(key, updatedFish);\n    }\n\n    renderInventory(key) {\n        const fish = this.props.fishes[key];\n        return (\n            <div className=\"fish-edit\" key={key}>\n\n                <input type=\"text\" name=\"name\" value={fish.name} placeholder=\"Fish Name\" onChange={(e) => this.handleChange(e, key)} />\n                <input type=\"text\" name=\"price\" value={fish.price} placeholder=\"Fish Price\" onChange={(e) => this.handleChange(e, key)} />\n                <select type=\"text\" name=\"status\" value={fish.status} placeholder=\"Fish Status\" onChange={(e) => this.handleChange(e, key)}>\n                    <option value=\"available\" >Fresh!</option>\n                    <option value=\"unavailable\" >Sold Out!</option>\n                </select>\n                <textarea type=\"text\" name=\"desc\" value={fish.desc} placeholder=\"Fish Desc\" onChange={(e) => this.handleChange(e, key)}>\n                </textarea>\n                <input type=\"text\" name=\"image\" value={fish.image} placeholder=\"Fish Image\" onChange={(e) => this.handleChange(e, key)} />\n                <button onClick={() => this.props.removeFish(key)}>Remove Fish</button>\n            </div>\n        )\n    }\n\n    // authenticate(provider){\n    //     console.log(`Trying to login with ${provider}`);\n    //     base.AuthWithOAuthPopup(provider,this.authHandler);\n    // }\n\n    // authHandler(err,authData){\n    //     console.log(authData);\n    // }\n\n    // renderLogin() {\n    //     return (\n    //         <nav className=\"login\">\n    //             <h2>Inventory</h2>\n    //             <p>Sign in to manage your store's inventory</p>\n    //             <button className=\"github\" onClick={() => this.authenticate('github')}>Log In with Github</button>\n    //             <button className=\"facebook\" onClick={() => this.authenticate('facebook')} >Log In with Facebook</button>\n    //             <button className=\"twitter\" onClick={() => this.authenticate('twitter')} >Log In with Twitter</button>\n    //         </nav>\n    //     )\n    // }\n\n    render() {\n        const logout = <button>Log Out!!</button>\n\n\n        // check if they are not logged in at all\n        if (!this.state.uid) {\n            return <div>{this.renderLogin()}</div>\n        }\n\n        // check if they are the owner of the current store.\n        if(this.state.uid !== this.state.owner){\n            return(\n                <div>\n                    <p>Sorry you are not the owner of the Store</p>\n                    {logout}\n                </div>\n            )\n        }\n\n\n        return (\n            <div>\n                <h2>Inventory</h2>\n                {logout}\n                {Object.keys(this.props.fishes).map(this.renderInventory)}\n                <AddFishForm addFish={this.props.addFish} />\n                <button onClick={this.props.loadSamples}>load Sample Fishes</button>\n            </div>\n\n        )\n    }\n}\n\nInventory.propTypes = {\n    fishes: PropTypes.object.isRequired,\n    updateFish: PropTypes.func.isRequired,\n    removeFish: PropTypes.func.isRequired,\n    addFish: PropTypes.func.isRequired,\n    loadSamples: PropTypes.func.isRequired\n};\n\nexport default Inventory;"]},"metadata":{},"sourceType":"module"}